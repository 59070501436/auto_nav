<?xml version="1.0"?>

<launch>
 
  <arg name="fisheye_fps"         default="30"/>
  <arg name="depth_fps"           default="30"/>
  <arg name="infra_fps"           default="30"/>
  <arg name="color_fps"           default="15"/>
  <arg name="gyro_fps"            default="400"/>
  <arg name="accel_fps"           default="250"/>
  <arg name="enable_gyro"         default="false"/>
  <arg name="enable_accel"        default="false"/>

  <arg name="fisheye_width"  default="640"/>
  <arg name="fisheye_height" default="480"/>
  <arg name="enable_fisheye" default="false"/>
  <arg name="enable_fisheye1" default="false"/>
  <arg name="enable_fisheye2" default="false"/>

  <arg name="depth_width"    default="640"/>
  <arg name="depth_height"   default="480"/>
  <arg name="enable_depth"   default="false"/>

  <arg name="infra_width"    default="640"/>
  <arg name="infra_height"   default="480"/>
  <arg name="enable_infra1"  default="false"/>
  <arg name="enable_infra2"  default="false"/>

  <arg name="color_width"    default="640"/>
  <arg name="color_height"   default="480"/>
  <arg name="enable_color"   default="true"/>

  <arg name="image"    default="/camera/color/image_rect_raw"/>
  <arg name="_save_all_image"   default="false"/>
  <arg name="_filename_format"    default="foo.jpg"/>
  <arg name="__name"   default="image_saver"/>

  <include file="$(find realsense2_camera)/launch/rs_camera.launch">

          <arg name="fisheye_fps" value="$(arg fisheye_fps)"/>
          <arg name="depth_fps"  value="$(arg depth_fps)"/>
          <arg name="infra_fps"  value="$(arg infra_fps)"/>
          <arg name="color_fps"  value="$(arg color_fps)"/>

          <arg name="enable_gyro"  value="$(arg enable_gyro)"/>
          <arg name="enable_accel" value="$(arg enable_accel)"/>

          <arg name="fisheye_width"  value="$(arg fisheye_width)"/>
          <arg name="fisheye_height" value="$(arg fisheye_height)"/>
          <arg name="enable_fisheye" value="$(arg enable_fisheye)"/>
          <!--arg name="enable_fisheye1" value="$(arg enable_fisheye1)"/>
          <arg name="enable_fisheye2" value="$(arg enable_fisheye2)"/-->

          <arg name="infra_width"   value="$(arg infra_width)"/>
          <arg name="infra_height"  value="$(arg infra_height)"/>
          <arg name="enable_infra1" value="$(arg enable_infra1)"/>
          <arg name="enable_infra2" value="$(arg enable_infra2)"/>

      	  <arg name="depth_width"  value="$(arg depth_width)"/>
      	  <arg name="depth_height"  value="$(arg depth_height)"/>
      	  <arg name="enable_depth"  value="$(arg enable_depth)"/>

      	  <arg name="color_width" value="$(arg color_width)"/>
      	  <arg name="color_height" value="$(arg color_height)"/>
      	  <arg name="enable_color" value="$(arg enable_color)"/>

          <rosparam param="disable_pub_plugins">
            - 'image_transport/compressedDepth'
            - 'image_transport/theora'
          </rosparam>

  </include>

  <!--node pkg="image_view" name="image_view" type="image_view" output="screen">
    <remap from="image" to="/camera/color/image_rect_raw"/>
  </node-->

  <!--node pkg="rviz" name="rviz" type="rviz" /-->

</launch>
